<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sales Force HR</title>
  <link rel="icon" href="https://i.imgur.com/6SF5KQG.png">
  <script src="https://unpkg.com/@supabase/supabase-js"></script>
  <link rel="stylesheet" href="sales-styles.css">

  <style>


  </style>
</head>

<body>

  <div class="layout">
    <aside class="sidebar">
      <img src="https://i.imgur.com/6SF5KQG.png" alt="logo">
      <h3>Sales Force</h3>
      <button class="active">Dashboard</button>
      <button id="logoutBtn">Logout</button>
      <div style="margin-top:auto" class="watermark">Designed & Developed by <strong>Edwin Angelo</strong></div>
    </aside>

    <main>
      <div class="topbar">
        <div>
          <h1 style="margin:0 0 6px">Dashboard</h1>
          <div style="color:var(--muted);font-size:13px">Incidents & Case Management</div>
        </div>

        <div class="controls">
          <select id="areaFilter">
            <option value="all">All Areas</option>
            <option value="ir_mag_norte">Mag Norte</option>
            <option value="ir_mag_sur">Mag Sur</option>
            <option value="ir_ldn">Lanao Del Norte</option>
            <option value="ir_lds">Lanao Del Sur</option>
            <option value="ir_cot">Cotabato</option>
          </select>

          <select id="statusFilter">
            <option value="all">All Statuses</option>
            <option value="Open">Open</option>
            <option value="Pending">Pending</option>
            <option value="Closed">Closed</option>

          </select>

          <input id="searchInput" placeholder="Search agent / file / date..." />

          <button id="addIrBtn" class="primary">+ Add Incident Report</button>
          <button id="refreshBtn" class="btn-ghost">Refresh</button>
        </div>
      </div>

      <div class="kpis" id="kpiContainer">
        <div class="kpi card">
          <div class="val" id="kpiTotal">0</div>
          <div class="muted">Total Reports</div>
        </div>
        <div class="kpi card">
          <div class="val" id="kpiOpen">0</div>
          <div class="muted">Open</div>
        </div>
        <div class="kpi card">
          <div class="val" id="kpiPending">0</div>
          <div class="muted">Pending</div>
        </div>
        <div class="kpi card">
          <div class="val" id="kpiClosed">0</div>
          <div class="muted">Closed</div>
        </div>
      </div>

   <div class="table-container">
  <table id="irTable">
    <thead>
      <tr>
        <th>Agent</th>
        <th>Transcode</th>
        <th>File</th>
        <th>Date</th>
        <th>Area</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="irTbody">
   
    </tbody>
  </table>
</div>

        <div class="modal" id="irModal" aria-hidden="true">
          <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="irModalTitle">
            <h3 id="irModalTitle">Add Incident Report</h3>
            <form id="irForm">
              <input type="hidden" id="ir_record_id" />
              <div class="modal-grid">
                <div>
                  <div class="modal-row">
                    <label for="ir_agent">Agent name</label>
                    <input id="ir_agent" required />
                  </div>
                  <div class="modal-row">
                    <label for="ir_area">Area (select)</label>
                    <select id="ir_area" required>
                      <option value="MDN">Mag Norte</option>
                      <option value="MDS">Mag Sur</option>
                      <option value="LDN">Lanao Del Norte</option>
                      <option value="LDS">Lanao Del Sur</option>
                      <option value="COT">Cotabato</option>
                    </select>
                  </div>
                  <div class="modal-row">
                    <label for="ir_date">Date Posted</label>
                    <input id="ir_date" type="date" required />
                  </div>
                </div>
                <div>
                  <div class="modal-row">
                    <label for="ir_status">Status</label>
                    <select id="ir_status" required>
                      <option value="">Select status</option>
                      <option>Open</option>
                      <option>Pending</option>
                      <option>Closed</option>

                    </select>
                  </div>

                  <div class="modal-row">
                    <label for="ir_file">Attach file</label>
                    <input id="ir_file" type="file" accept=".pdf,.doc,.docx,.jpg,.png" />
                  </div>

                  <div class="modal-row">
                    <label>File preview</label>
                    <div id="ir_file_preview" style="color:var(--muted);font-size:13px">No file selected</div>
                  </div>
                </div>
              </div>

              <div class="modal-footer">
                <button type="button" class="btn-ghost" id="irCancelBtn">Cancel</button>
                <button type="submit" class="primary" id="irSaveBtn">Save</button>
              </div>
            </form>
          </div>
        </div>
       

        <div style="display:flex;justify-content:flex-end;gap:8px;margin-top:16px">
          <div id="caseSavedMsg"
            style="color:var(--success);font-weight:700;align-self:center;opacity:0;transition:opacity .2s">Status
            updated!</div>

          <button class="primary" id="caseSaveBtn" style="display:none">Save</button>
        </div>
      </div>
  </div>
  </div>


  <div id="uploadLoader" class="loader" style="display:none;"></div>

  
  <script src="sales-script.js"></script>
  <script>

  </script>
</body>

</html>